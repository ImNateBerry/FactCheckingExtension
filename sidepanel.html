<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Factify</title>
</head>
<body>
  <div id="header">
    <h1>Factify</h1>
    <div class="info-icon"></div>
  </div>
  
  <div id="placeholder">
    <p id="selected-text">No text selected.</p>
  </div>
  
  <!-- API Key Form -->
  <div id="api-key-container" style="display: none;">
    <p class="api-key-message">Please enter your Perplexity API key to analyze text:</p>
    <form id="api-key-form">
      <input type="password" id="api-key-input" placeholder="Enter API Key" required>
      <button type="submit" class="api-key-submit">Submit</button>
    </form>
  </div>
  
  <!-- Loading Indicator -->
  <div id="loading-indicator" style="display: none;">
    <div class="loading-spinner"></div>
    <p>Analyzing text...</p>
  </div>
  
  <!-- Error Message -->
  <div id="error-container" style="display: none;">
    <p id="error-message" class="error-text"></p>
  </div>
  
  <!-- Analysis Results -->
  <div id="fact-check-container">
    <div class="charts-container">
      <div class="chart-titles">
        <h3 id="truth-score">Truth Score</h3>
        <h3 id="bias-score">Bias Score</h3>
      </div>
        
      <div class="flex-wrapper">
        <div class="single-chart">
          <svg viewBox="0 0 36 36" class="circular-chart orange" id="truth-chart">
            <path class="circle-bg"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <path class="circle"
              stroke-dasharray="50, 100"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <text x="18" y="20.35" class="percentage">50%</text>
          </svg>
        </div>
        
        <div class="single-chart">
          <svg viewBox="0 0 36 36" class="circular-chart green" id="bias-chart">
            <path class="circle-bg"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <path class="circle"
              stroke-dasharray="60, 100"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <text x="18" y="20.35" class="percentage">60%</text>
          </svg>
        </div>
      </div>
    </div>
    
    <!-- Analysis Reasoning -->
    <div id="reasoning-container" class="content-section">
      <h3 class="section-title">Analysis</h3>
      <div id="reasoning-content" class="content-body"></div>
    </div>
    
    <!-- Citations -->
    <div id="citations-container" class="content-section" style="display: none;">
      <h3 class="section-title">Citations</h3>
      <ul id="citations-list" class="content-body"></ul>
    </div>
  </div>
  
  <script src="scripts/sidepanel.js"></script>
</body>
</html>